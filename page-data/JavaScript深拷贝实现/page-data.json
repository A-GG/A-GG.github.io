{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/JavaScript深拷贝实现/","result":{"data":{"site":{"siteMetadata":{"title":"AGG","postCopyright":true,"siteUrl":"https://agg.me","author":{"name":"AGG"}}},"mdx":{"id":"3fcdb1e9-9a34-5bc2-a7ba-0e121fa0e860","excerpt":"…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"JavaScript深拷贝实现\",\n  \"date\": \"2016-10-08T19:02:29.284Z\",\n  \"tags\": [\"JavaScript\", \"前端\"],\n  \"categories\": [\"JavaScript\"],\n  \"description\": \"深拷贝和浅拷贝在很多语言中都会涉及到，在JavaScript当中，没有现成的可以直接实现深拷贝的方法，虽然我们可以使用jQuery当中提供的`extend`方法，但是这个方法有一定的局限性，所以本文主要研究JavaScript当中深拷贝的实现。\",\n  \"toc\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u5F53\\u4E2D\\uFF0C\\u6211\\u4EEC\\u7ECF\\u5E38\\u4F1A\\u9047\\u5230\\u8981\\u5BF9\\u5BF9\\u8C61\\u8FDB\\u884C\\u6DF1\\u62F7\\u8D1D\\u7684\\u60C5\\u51B5\\u3002\\u800C\\u4E14\\u6DF1\\u62F7\\u8D1D\\u8FD9\\u4E2A\\u95EE\\u9898\\u5728\\u9762\\u8BD5\\u8FC7\\u7A0B\\u4E2D\\u4E5F\\u7ECF\\u5E38\\u4F1A\\u9047\\u5230\\uFF0C\\u4E0B\\u9762\\u5C31\\u5BF9\\u672C\\u4EBA\\u5728\\u5B66\\u4E60\\u8FC7\\u7A0B\\u4E2D\\u7684\\u6536\\u83B7\\uFF0C\\u505A\\u4EE5\\u7B80\\u5355\\u7684\\u603B\\u7ED3\\u3002\"), mdx(\"h2\", {\n    \"id\": \"什么是浅拷贝，什么是深拷贝？\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#%E4%BB%80%E4%B9%88%E6%98%AF%E6%B5%85%E6%8B%B7%E8%B4%9D%EF%BC%8C%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B1%E6%8B%B7%E8%B4%9D%EF%BC%9F\",\n    \"aria-label\": \"什么是浅拷贝，什么是深拷贝？ permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u4EC0\\u4E48\\u662F\\u6D45\\u62F7\\u8D1D\\uFF0C\\u4EC0\\u4E48\\u662F\\u6DF1\\u62F7\\u8D1D\\uFF1F\"), mdx(\"h3\", {\n    \"id\": \"什么是浅拷贝\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E4%BB%80%E4%B9%88%E6%98%AF%E6%B5%85%E6%8B%B7%E8%B4%9D\",\n    \"aria-label\": \"什么是浅拷贝 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u4EC0\\u4E48\\u662F\\u6D45\\u62F7\\u8D1D\"), mdx(\"p\", null, \"\\u5173\\u4E8E\\u6D45\\u62F7\\u8D1D\\u7684\\u6982\\u5FF5\\uFF0C\\u6211\\u5728\\u7F51\\u4E0A\\u770B\\u5230\\u4E00\\u79CD\\u8BF4\\u6CD5\\uFF0C\\u76F4\\u63A5\\u4E0A\\u4EE3\\u7801\\u3002\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"base16-light\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"var person = {name: \\\"Jason\\\", age: 18, car: {brand: \\\"Ferrari\\\", type: \\\"430\\\"}};\\nvar person1 = person; \\t\\t//\\u4ED6\\u4EEC\\u8BA4\\u4E3A\\u8FD9\\u662F\\u6D45\\u62F7\\u8D1D\"), \"\\n        \"), mdx(\"p\", null, \"\\u4F46\\u662F\\u6211\\u4E2A\\u4EBA\\u8BA4\\u4E3A\\uFF0C\\u4E0A\\u9762\\u8FD9\\u4E2A\\u6839\\u672C\\u4E0D\\u6D89\\u53CA\\u62F7\\u8D1D\\uFF0C\\u53EA\\u662F\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u5F15\\u7528\\u8D4B\\u503C\\u3002\\u4EE5\\u6211\\u7684\\u7406\\u89E3\\uFF0C\\u6D45\\u62F7\\u8D1D\\u5E94\\u8BE5\\u662F\\u4E0D\\u8003\\u8651\\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\u7C7B\\u578B\\u7684\\u5C5E\\u6027\\uFF0C\\u53EA\\u5BF9\\u5F53\\u524D\\u5BF9\\u8C61\\u7684\\u6240\\u6709\\u6210\\u5458\\u8FDB\\u884C\\u62F7\\u8D1D\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"base16-light\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"function copy(obj){\\n\\tvar objCopy = {};\\n\\tfor(var key in obj){\\n\\t\\tobjCopy[key] = obj[key];\\n\\t}\\n\\treturn objCopy;\\n}\\n\\nvar person = {name: \\\"Jason\\\", age: 18, car: {brand: \\\"Ferrari\\\", type: \\\"430\\\"}};\\nvar personCopy = copy(person);\"), \"\\n        \"), mdx(\"p\", null, \"\\u4E0A\\u9762\\u8FD9\\u6BB5\\u4EE3\\u7801\\u4E2D\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"person\"), \"\\u5BF9\\u8C61\\u62E5\\u6709\\u4E24\\u4E2A\\u57FA\\u672C\\u7C7B\\u578B\\u7684\\u5C5E\\u6027\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \"\\u548C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"age\"), \"\\uFF0C\\u4E00\\u4E2A\\u5F15\\u7528\\u7C7B\\u578B\\u7684\\u5C5E\\u6027\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"car\"), \"\\uFF0C\\u5F53\\u4F7F\\u7528\\u5982\\u4E0A\\u65B9\\u6CD5\\u8FDB\\u884C\\u62F7\\u8D1D\\u7684\\u65F6\\u5019\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \"\\u548C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"age\"), \"\\u5C5E\\u6027\\u4F1A\\u88AB\\u6B63\\u5E38\\u7684\\u62F7\\u8D1D\\uFF0C\\u4F46\\u662F\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"car\"), \"\\u5C5E\\u6027\\uFF0C\\u53EA\\u4F1A\\u8FDB\\u884C\\u5F15\\u7528\\u7684\\u62F7\\u8D1D\\uFF0C\\u8FD9\\u6837\\u4F1A\\u5BFC\\u81F4\\u62F7\\u8D1D\\u51FA\\u6765\\u7684\\u5BF9\\u8C61\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"personCopy\"), \"\\u548C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"person\"), \"\\u4F1A\\u5171\\u7528\\u4E00\\u4E2A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"car\"), \"\\u5BF9\\u8C61\\u3002\\u8FD9\\u6837\\u5C31\\u662F\\u6240\\u8C13\\u7684\\u6D45\\u62F7\\u8D1D\\u3002\"), mdx(\"h3\", {\n    \"id\": \"什么是深拷贝\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B1%E6%8B%B7%E8%B4%9D\",\n    \"aria-label\": \"什么是深拷贝 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u4EC0\\u4E48\\u662F\\u6DF1\\u62F7\\u8D1D\"), mdx(\"p\", null, \"\\u6DF1\\u62F7\\u8D1D\\u7684\\u5C31\\u662F\\u5728\\u62F7\\u8D1D\\u7684\\u65F6\\u5019\\uFF0C\\u9700\\u8981\\u5C06\\u5F53\\u524D\\u8981\\u62F7\\u8D1D\\u7684\\u5BF9\\u8C61\\u5185\\u7684\\u6240\\u6709\\u5F15\\u7528\\u7C7B\\u578B\\u7684\\u5C5E\\u6027\\u8FDB\\u884C\\u5B8C\\u6574\\u7684\\u62F7\\u8D1D\\uFF0C\\u4E5F\\u5C31\\u662F\\u8BF4\\u62F7\\u8D1D\\u51FA\\u6765\\u7684\\u5BF9\\u8C61\\u548C\\u539F\\u5BF9\\u8C61\\u4E4B\\u95F4\\u6CA1\\u6709\\u4EFB\\u4F55\\u6570\\u636E\\u662F\\u5171\\u4EAB\\u7684\\uFF0C\\u6240\\u6709\\u7684\\u4E1C\\u897F\\u90FD\\u662F\\u81EA\\u5DF1\\u72EC\\u5360\\u7684\\u4E00\\u4EFD\\u3002\"), mdx(\"h2\", {\n    \"id\": \"如何实现深拷贝\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D\",\n    \"aria-label\": \"如何实现深拷贝 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u5982\\u4F55\\u5B9E\\u73B0\\u6DF1\\u62F7\\u8D1D\"), mdx(\"h3\", {\n    \"id\": \"实现深拷贝需要考虑的问题\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D%E9%9C%80%E8%A6%81%E8%80%83%E8%99%91%E7%9A%84%E9%97%AE%E9%A2%98\",\n    \"aria-label\": \"实现深拷贝需要考虑的问题 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u5B9E\\u73B0\\u6DF1\\u62F7\\u8D1D\\u9700\\u8981\\u8003\\u8651\\u7684\\u95EE\\u9898\"), mdx(\"p\", null, \"\\u5B9E\\u73B0\\u6DF1\\u62F7\\u8D1D\\u9700\\u8981\\u8003\\u8651\\u5982\\u4E0B\\u51E0\\u4E2A\\u56E0\\u7D20\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u4F20\\u5165\\u7684\\u5BF9\\u8C61\\u662F\\u4F7F\\u7528\\u5BF9\\u8C61\\u5B57\\u9762\\u91CF\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"{}\"), \"\\u521B\\u5EFA\\u7684\\u5BF9\\u8C61\\u8FD8\\u662F\\u7531\\u6784\\u9020\\u51FD\\u6570\\u751F\\u6210\\u7684\\u5BF9\\u8C61\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5982\\u679C\\u5BF9\\u8C61\\u662F\\u7531\\u6784\\u9020\\u51FD\\u6570\\u521B\\u5EFA\\u51FA\\u6765\\u7684\\uFF0C\\u90A3\\u4E48\\u662F\\u5426\\u8981\\u62F7\\u8D1D\\u539F\\u578B\\u94FE\\u4E0A\\u7684\\u5C5E\\u6027\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5982\\u679C\\u8981\\u62F7\\u8D1D\\u539F\\u578B\\u94FE\\u4E0A\\u7684\\u5C5E\\u6027\\uFF0C\\u90A3\\u4E48\\u5982\\u679C\\u539F\\u578B\\u94FE\\u4E0A\\u5B58\\u5728\\u591A\\u4E2A\\u540C\\u540D\\u7684\\u5C5E\\u6027\\uFF0C\\u4FDD\\u7559\\u54EA\\u4E2A\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5904\\u7406\\u5FAA\\u73AF\\u5F15\\u7528\\u7684\\u95EE\\u9898\")), mdx(\"h3\", {\n    \"id\": \"第三方库实现深拷贝\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D\",\n    \"aria-label\": \"第三方库实现深拷贝 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u7B2C\\u4E09\\u65B9\\u5E93\\u5B9E\\u73B0\\u6DF1\\u62F7\\u8D1D\"), mdx(\"h4\", {\n    \"id\": \"jquery的extend\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#jquery%E7%9A%84extend\",\n    \"aria-label\": \"jquery的extend permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"jQuery\\u7684$.extend()\"), mdx(\"p\", null, \"\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$.extend()\"), \"\\u65B9\\u6CD5\\u6765\\u5B8C\\u6210\\u6DF1\\u590D\\u5236\\u3002\\u503C\\u5F97\\u5E86\\u5E78\\u7684\\u662F\\uFF0C\\u6211\\u4EEC\\u5728\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jQuery\"), \"\\u4E2D\\u53EF\\u4EE5\\u901A\\u8FC7\\u6DFB\\u52A0\\u4E00\\u4E2A\\u53C2\\u6570\\u6765\\u5B9E\\u73B0\\u9012\\u5F52\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"extend\"), \"\\u3002\\u8C03\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$.extend(true, {}, ...)\"), \"\\u5C31\\u53EF\\u4EE5\\u5B9E\\u73B0\\u6DF1\\u590D\\u5236\\uFF0C\\u53C2\\u8003\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"base16-light\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"var x = {\\n    a: 1,\\n    b: { f: { g: 1 } },\\n    c: [ 1, 2, 3 ]\\n};\\n\\nvar y = $.extend({}, x),          //shallow copy\\n    z = $.extend(true, {}, x);    //deep copy\\n\\ny.b.f === x.b.f       // true\\nz.b.f === x.b.f       // false\"), \"\\n        \"), mdx(\"p\", null, \"\\u4F46\\u662FjQuery\\u7684\\u8FD9\\u4E2A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$.extend()\"), \"\\u65B9\\u6CD5\\uFF0C\\u6709\\u5F0A\\u7AEF\\uFF0C\\u4EC0\\u4E48\\u5F0A\\u7AEF\\u5462\\uFF1F\\u6211\\u4EEC\\u770B\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50\\uFF1A\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"base16-light\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"var objA = {};\\nvar objB = {};\\n\\nobjA.b = objB;\\nobjB.a = objA;\\n\\n$.extend(true,{},a);\\n\\n//\\u8FD9\\u4E2A\\u65F6\\u5019\\u5C31\\u51FA\\u73B0\\u5F02\\u5E38\\u4E86\\n//Uncaught RangeError: Maximum call stack size exceeded(\\u2026)\"), \"\\n        \"), mdx(\"p\", null, \"\\u4E5F\\u5C31\\u662F\\u8BF4\\uFF0CjQuery\\u4E2D\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$.extend()\"), \"\\u5E76\\u6CA1\\u6709\\u5904\\u7406\\u5FAA\\u73AF\\u5F15\\u7528\\u7684\\u95EE\\u9898\\u3002\"), mdx(\"h3\", {\n    \"id\": \"使用json对象实现深拷贝\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E4%BD%BF%E7%94%A8json%E5%AF%B9%E8%B1%A1%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D\",\n    \"aria-label\": \"使用json对象实现深拷贝 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u4F7F\\u7528JSON\\u5BF9\\u8C61\\u5B9E\\u73B0\\u6DF1\\u62F7\\u8D1D\"), mdx(\"p\", null, \"\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JSON\"), \"\\u5168\\u5C40\\u5BF9\\u8C61\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"parse\"), \"\\u548C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"stringify\"), \"\\u65B9\\u6CD5\\u6765\\u5B9E\\u73B0\\u6DF1\\u590D\\u5236\\u4E5F\\u7B97\\u662F\\u4E00\\u4E2A\\u7B80\\u5355\\u8BA8\\u5DE7\\u7684\\u65B9\\u6CD5\\u3002\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"base16-light\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"function jsonClone(obj) {\\n    return JSON.parse(JSON.stringify(obj));\\n}\\nvar clone = jsonClone({ a:1 });\"), \"\\n        \"), mdx(\"p\", null, \"\\u7136\\u800C\\u4F7F\\u7528\\u8FD9\\u79CD\\u65B9\\u6CD5\\u4F1A\\u6709\\u4E00\\u4E9B\\u9690\\u85CF\\u7684\\u5751\\uFF0C\\u5B83\\u80FD\\u6B63\\u786E\\u5904\\u7406\\u7684\\u5BF9\\u8C61\\u53EA\\u6709 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Number\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"String\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Boolean\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Array\"), \", \\u6241\\u5E73\\u5BF9\\u8C61\\uFF0C\\u5373\\u90A3\\u4E9B\\u80FD\\u591F\\u88AB json \\u76F4\\u63A5\\u8868\\u793A\\u7684\\u6570\\u636E\\u7ED3\\u6784\\u3002\"), mdx(\"h3\", {\n    \"id\": \"自己造轮子\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E8%87%AA%E5%B7%B1%E9%80%A0%E8%BD%AE%E5%AD%90\",\n    \"aria-label\": \"自己造轮子 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u81EA\\u5DF1\\u9020\\u8F6E\\u5B50\"), mdx(\"p\", null, \"\\u4E0B\\u9762\\u6211\\u4EEC\\u7ED9\\u51FA\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u5F53\\u7136\\u8FD9\\u4E2A\\u65B9\\u6848\\u662F\\u53C2\\u8003\\u522B\\u4EBA\\u7684\\u65B9\\u5F0F\\u6765\\u5B9E\\u73B0\\u7684\\u3002\\u5E0C\\u671B\\u5BF9\\u5927\\u5BB6\\u6709\\u7528\\u3002\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"javascript\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"base16-light\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"var clone = (function() {\\n\\t//\\u8FD9\\u4E2A\\u65B9\\u6CD5\\u7528\\u6765\\u83B7\\u53D6\\u5BF9\\u8C61\\u7684\\u7C7B\\u578B \\u8FD4\\u56DE\\u503C\\u4E3A\\u5B57\\u7B26\\u4E32\\u7C7B\\u578B \\\"Object RegExp Date Array...\\\"\\n\\tvar classof = function(o) {\\n\\t\\tif (o === null) {\\n\\t\\t\\treturn \\\"null\\\";\\n\\t\\t}\\n\\t\\tif (o === undefined) {\\n\\t\\t\\treturn \\\"undefined\\\";\\n\\t\\t}\\n\\t\\t// \\u8FD9\\u91CC\\u7684Object.prototype.toString\\u5F88\\u53EF\\u80FD\\u7528\\u7684\\u5C31\\u662FObject.prototype.constructor.name\\n\\t\\t// \\u8FD9\\u91CC\\u4F7F\\u7528Object.prototype.toString\\u6765\\u751F\\u6210\\u7C7B\\u578B\\u5B57\\u7B26\\u4E32\\n\\t\\tvar className = Object.prototype.toString.call(o).slice(8, -1);\\n\\t\\treturn className;\\n\\t};\\n\\n\\t//\\u8FD9\\u91CC\\u8FD9\\u4E2A\\u53D8\\u91CF\\u6211\\u4EEC\\u7528\\u6765\\u5B58\\u50A8\\u5DF2\\u7ECF\\u4FDD\\u5B58\\u8FC7\\u7684\\u5C5E\\u6027\\uFF0C\\u76EE\\u7684\\u5728\\u4E8E\\u5904\\u7406\\u5FAA\\u73AF\\u5F15\\u7528\\u7684\\u95EE\\u9898\\n\\tvar references = null;\\n\\n\\t//\\u9047\\u5230\\u4E0D\\u540C\\u7C7B\\u578B\\u7684\\u5BF9\\u8C61\\u7684\\u5904\\u7406\\u65B9\\u5F0F\\n\\tvar handlers = {\\n\\t\\t//\\u6B63\\u5219\\u8868\\u8FBE\\u5F0F\\u7684\\u5904\\u7406\\n\\t\\t'RegExp': function(reg) {\\n\\t\\t\\tvar flags = '';\\n\\t\\t\\tflags += reg.global ? 'g' : '';\\n\\t\\t\\tflags += reg.multiline ? 'm' : '';\\n\\t\\t\\tflags += reg.ignoreCase ? 'i' : '';\\n\\t\\t\\treturn new RegExp(reg.source, flags);\\n\\t\\t},\\n\\t\\t//\\u65F6\\u95F4\\u5BF9\\u8C61\\u5904\\u7406\\n\\t\\t'Date': function(date) {\\n\\t\\t\\treturn new Date(+date);\\n\\t\\t},\\n\\t\\t//\\u6570\\u7EC4\\u5904\\u7406 \\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u4E3A\\u662F\\u5426\\u505A\\u6D45\\u62F7\\u8D1D\\n\\t\\t'Array': function(arr, shallow) {\\n\\t\\t\\tvar newArr = [],\\n\\t\\t\\ti;\\n\\t\\t\\tfor (i = 0; i < arr.length; i++) {\\n\\t\\t\\t\\tif (shallow) {\\n\\t\\t\\t\\t\\tnewArr[i] = arr[i];\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t//\\u8FD9\\u91CC\\u6211\\u4EEC\\u901A\\u8FC7reference\\u6570\\u7EC4\\u6765\\u5904\\u7406\\u5FAA\\u73AF\\u5F15\\u7528\\u95EE\\u9898\\n\\t\\t\\t\\t\\tif (references.indexOf(arr[i]) !== -1) {\\n\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tvar handler = handlers[classof(arr[i])];\\n\\t\\t\\t\\t\\tif (handler) {\\n\\t\\t\\t\\t\\t\\treferences.push(arr[i]);\\n\\t\\t\\t\\t\\t\\tnewArr[i] = handler(arr[i], false);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tnewArr[i] = arr[i];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn newArr;\\n\\t\\t},\\n\\t\\t//\\u6B63\\u5E38\\u5BF9\\u8C61\\u7684\\u5904\\u7406 \\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u4E3A\\u662F\\u5426\\u505A\\u6D45\\u62F7\\u8D1D\\n\\t\\t'Object': function(obj, shallow) {\\n\\t\\t\\tvar newObj = {}, prop, handler;\\n\\t\\t\\tfor (prop in obj) {\\n\\t\\t\\t\\t//\\u5173\\u4E8E\\u539F\\u578B\\u4E2D\\u5C5E\\u6027\\u7684\\u5904\\u7406\\u592A\\u8FC7\\u590D\\u6742\\uFF0C\\u6211\\u4EEC\\u8FD9\\u91CC\\u6682\\u65F6\\u4E0D\\u505A\\u5904\\u7406\\n\\t\\t\\t\\t//\\u6240\\u4EE5\\u53EA\\u5BF9\\u5BF9\\u8C61\\u672C\\u8EAB\\u7684\\u5C5E\\u6027\\u505A\\u62F7\\u8D1D\\n\\t\\t\\t\\tif (obj.hasOwnProperty(prop)) {\\n\\t\\t\\t\\t\\tif (shallow) {\\n\\t\\t\\t\\t\\t\\tnewObj[prop] = obj[prop];\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t//\\u8FD9\\u91CC\\u8FD8\\u662F\\u5904\\u7406\\u5FAA\\u73AF\\u5F15\\u7528\\u7684\\u95EE\\u9898\\n\\t\\t\\t\\t\\t\\tif (references.indexOf(obj[prop]) !== -1) {\\n\\t\\t\\t\\t\\t\\t\\tcontinue;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\thandler = handlers[classof(obj[prop])];\\n\\t\\t\\t\\t\\t\\t//\\u5982\\u679C\\u6CA1\\u6709\\u5BF9\\u5E94\\u7684\\u5904\\u7406\\u65B9\\u5F0F\\uFF0C\\u90A3\\u4E48\\u5C31\\u76F4\\u63A5\\u590D\\u5236\\n\\t\\t\\t\\t\\t\\tif (handler) {\\n\\t\\t\\t\\t\\t\\t\\treferences.push(obj[prop]);\\n\\t\\t\\t\\t\\t\\t\\tnewObj[prop] = handler(obj[prop], false);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tnewObj[prop] = obj[prop];\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn newObj;\\n\\t\\t}\\n\\t};\\n\\n\\treturn function(obj, shallow) {\\n\\t\\t//\\u9996\\u5148\\u91CD\\u7F6E\\u6211\\u4EEC\\u7528\\u6765\\u5904\\u7406\\u5FAA\\u73AF\\u5F15\\u7528\\u7684\\u8FD9\\u4E2A\\u53D8\\u91CF\\n\\t\\treferences = [];\\n\\t\\t//\\u6211\\u4EEC\\u9ED8\\u8BA4\\u5904\\u7406\\u4E3A\\u6D45\\u62F7\\u8D1D\\n\\t\\tshallow = shallow === undefined ? true : false;\\n\\t\\tvar handler = handlers[classof(obj)];\\n\\t\\treturn handler ? handler(obj, shallow) : obj;\\n\\t};\\n}());\\n\\n(function() {\\n\\t//\\u4E0B\\u9762\\u662F\\u4E00\\u4E9B\\u6D4B\\u8BD5\\u4EE3\\u7801\\n\\tvar date = new Date();\\n\\tvar reg = /hello word/gi;\\n\\tvar obj = {\\n\\t\\tprop: 'this ia a string',\\n\\t\\tarr: [1, 2, 3],\\n\\t\\to: {\\n\\t\\t\\twow: 'aha'\\n\\t\\t}\\n\\t};\\n\\tvar refer1 = {\\n\\t\\tarr: [1, 2, 3]\\n\\t};\\n\\tvar refer2 = {\\n\\t\\trefer: refer1\\n\\t};\\n\\trefer1.refer = refer2;\\n\\n\\tvar cloneDate = clone(date, false);\\n\\tvar cloneReg = clone(reg, false);\\n\\tvar cloneObj = clone(obj, false);\\n\\talert((date !== cloneDate) && (date.valueOf() === cloneDate.valueOf()));\\n\\talert((cloneReg !== reg) && (reg.toString() === cloneReg.toString()));\\n\\talert((obj !== cloneObj) && (obj.arr !== cloneObj.arr) && (obj.o !== cloneObj.o) && (JSON.stringify(obj) === JSON.stringify(cloneObj)));\\n\\n\\tclone(refer2, false);\\n\\talert(\\\"I'm not dead yet!\\\");\\n\\t// Output:\\n\\t// true\\n\\t// true\\n\\t// true\\n\\t// I'm not dead yet!\\n}());\"), \"\\n        \"));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"slug":"/JavaScript深拷贝实现/"},"frontmatter":{"title":"JavaScript深拷贝实现","date":"October 08, 2016","description":"深拷贝和浅拷贝在很多语言中都会涉及到，在JavaScript当中，没有现成的可以直接实现深拷贝的方法，虽然我们可以使用jQuery当中提供的`extend`方法，但是这个方法有一定的局限性，所以本文主要研究JavaScript当中深拷贝的实现。","categories":["JavaScript"],"tags":["JavaScript","前端"],"toc":true}}},"pageContext":{"slug":"/JavaScript深拷贝实现/","previous":{"fields":{"slug":"/CentOS-7-Shadowsocks-安装/"},"frontmatter":{"title":"CentOS 7 Shadowsocks 安装"}},"next":{"fields":{"slug":"/CentOS安装Node-js/"},"frontmatter":{"title":"CentOS安装Node.js"}}}},"staticQueryHashes":["2786614800","2841359383","3828236571"]}